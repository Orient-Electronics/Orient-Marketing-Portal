<div id="modal-gallery" class="modal modal-gallery hide fade" tabindex="-1">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3 class="modal-title"></h3>
    </div>
    <div class="modal-body"><div class="modal-image"></div></div>
    <div class="modal-footer">
        <a class="btn modal-download" target="_blank">
            <i class="icon-download"></i>
            <span>Download</span>
        </a>
        <a class="btn btn-success modal-play modal-slideshow" data-slideshow="5000">
            <i class="icon-play icon-white"></i>
            <span>Slideshow</span>
        </a>
        <a class="btn btn-info modal-prev">
            <i class="icon-arrow-left icon-white"></i>
            <span>Previous</span>
        </a>
        <a class="btn btn-primary modal-next">
            <span>Next</span>
            <i class="icon-arrow-right icon-white"></i>
        </a>
    </div>
</div>
<%- model_class = Shop -%>
<div class="page-header">
  <div class="row-fluid">
    <h1 class="span3"><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
    <h1 class="span9">
      <%= link_to "Add Sales Report", new_shop_report_path(@shop,:type=>'sales'), :class => "btn pull-right btn-inverse left-margin" %>
      <%= link_to "Add Display Report", new_shop_report_path(@shop,:type=>'display'), :class => "btn btn-inverse pull-right left-margin" %>
      <%= link_to "All Reports ", shop_reports_path(@shop), :class => "btn btn-success pull-right" %>
    </h1>
  </div>
</div>

<div id="gallery" data-toggle="modal-gallery" data-target="#modal-gallery">
  <% @shop.uploads.each do |image| %>
    <%= link_to image_tag(image.upload.url(:small)), image.upload.url(:medium), "data-gallery" => "gallery" %>
  <% end -%>
</div>

<div class="row-fluid">
  <dl class="span3">
    <dt><strong><%= model_class.human_attribute_name(:dealer_name) %>:</strong></dt>
    <dd><%= @shop.dealer_name %></dd>
    <dt><strong><%= model_class.human_attribute_name(:phone) %>:</strong></dt>
    <dd><%= @shop.phone %></dd>
    <dt><strong><%= model_class.human_attribute_name(:website) %>:</strong></dt>
    <dd><%= @shop.website %></dd>
    <dt><strong><%= model_class.human_attribute_name(:email) %>:</strong></dt>
    <dd><%= @shop.email %></dd>
    <dt><strong><%= model_class.human_attribute_name(:address) %>:</strong></dt>
    <dd><%= @shop.address %></dd>
    <dt><strong><%= model_class.human_attribute_name(:dealer) %>:</strong></dt>
    <dd><%= @shop.dealer %></dd>
    <dt><strong><%= model_class.human_attribute_name(:shop_category_id) %>:</strong></dt>
    <dd><%= @shop.shop_category.try(:name) %></dd>
    <br><br>
    <dt><strong><%= model_class.human_attribute_name(:location_id) %></strong></dt>
    <dd></dd>
    <% child_class = Location %>
    <dt><strong><%= child_class.human_attribute_name(:city_id) %>:</strong></dt>
    <dd><%= @shop.location.try(:city).try(:name) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:latitude) %>:</strong></dt>
    <dd><%= @shop.location.try(:latitude) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:longitude) %>:</strong></dt>
    <dd><%= @shop.location.try(:longitude) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:area) %>:</strong></dt>
    <dd><%= @shop.location.try(:area) %></dd>
    <br><br>
    <dt><strong><%= model_class.human_attribute_name(:owner) %></strong></dt>
    <dd>&nbsp;</dd>
    <% child_class = Owner %>
    <dt><strong><%= child_class.human_attribute_name(:name) %>:</strong></dt>
    <dd><%= @shop.owner.try(:name) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:cell_number) %>:</strong></dt>
    <dd><%= @shop.owner.try(:cell_number) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:dob) %>:</strong></dt>
    <dd><%= @shop.owner.try(:dob) %></dd>
    <br><br>
    <dt><strong><%= model_class.human_attribute_name(:manager) %></strong></dt>
    <dd>&nbsp;</dd>
    <% child_class = Manager %>
    <dt><strong><%= child_class.human_attribute_name(:name) %>:</strong></dt>
    <dd><%= @shop.manager.try(:name) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:cell_number) %>:</strong></dt>
    <dd><%= @shop.manager.try(:cell_number) %></dd>
    <dt><strong><%= child_class.human_attribute_name(:dob) %>:</strong></dt>
    <dd><%= @shop.manager.try(:dob) %></dd>
  </dl>
  <div class="span9">
    <%= render :partial => "/shared/uploads", :locals => {:@uploadable => @shop} %>
  </div>
</div>

<div class="form-actions">
  <%= link_to t('.back', :default => t("helpers.links.back")),
              shops_path, :class => 'btn'  %>
  <%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_shop_path(@shop), :class => 'btn' %>
  <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              shop_path(@shop),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
</div>
